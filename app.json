{
	"id": "cloud.shelly",
	"sdk": 2,
	"brandColor": "#4f8dc8",
	"name": {
		"en": "Shelly",
		"nl": "Shelly"
	},
	"tags": {
		"en": [ "Shelly", "Shelly 1", "Shelly 2", "Shelly Plug", "Shelly Plug S", "Shelly 4 Pro", "Shelly RGBW2", "Shelly EM", "Shelly Bulb" ],
		"nl": [ "Shelly", "Shelly 1", "Shelly 2", "Shelly Plug", "Shelly Plug S", "Shelly 4 Pro", "Shelly RGBW2", "Shelly EM", "Shelly Bulb"  ]
	},
	"version": "1.12.0",
	"compatibility": ">=2.5.1",
	"author": {
		"name": "Jelger Haanstra",
		"email": "homey@solidewebservices.com",
		"website": "https://github.com/jghaanstra/cloud.shelly/"
	},
	"contributing": {
		"donate": {
			"paypal": {
				"username": "jghaanstra"
			}
		}
	},
	"bugs": {
		"url": "https://github.com/jghaanstra/cloud.shelly/issues/"
	},
	"homeyCommunityTopicId": 765,
	"images": {
		"large": "./assets/images/large.jpg",
		"small": "./assets/images/small.jpg"
	},
	"category": "appliances",
	"description": {
		"en": "Control Shelly devices",
		"nl": "Beheer Shelly apparaten"
	},
	"dependencies": {
		"net": "*"
	},
  "capabilities": {
    "reactive_power": {
      "type": "number",
      "title": {
        "en": "Reactive Power",
        "nl": "Blind vermogen"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/reactive-power.svg",
      "units": {
        "en": "W",
        "nl": "W"
      }
    },
    "meter_power_consumed": {
      "type": "number",
      "title": {
        "en": "Total Consumed Energy",
        "nl": "Totaal verbruikte energie"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/meter_power_consumed.svg",
      "units": {
        "en": "Wh",
        "nl": "Wh"
      }
    },
    "meter_power_returned": {
      "type": "number",
      "title": {
        "en": "Total Returned Energy",
        "nl": "Totaal geretourneerde energie"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/meter_power_returned.svg",
      "units": {
        "en": "Wh",
        "nl": "Wh"
      }
    },
    "meter_power_wmin": {
      "type": "number",
      "title": {
        "en": "Total Consumed Energy",
        "nl": "Totaal verbruikte energie"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/meter_power_returned.svg",
      "units": {
        "en": "Wmin",
        "nl": "Wmin"
      }
    }
  },
  "discovery": {
    "shelly-plug": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shellyplug"
            }
          }
        ]
      ]
    },
    "shelly-plug-s": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shellyplug-s"
            }
          }
        ]
      ]
    },
    "shelly1": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shelly1"
            }
          }
        ]
      ]
    },
    "shelly1pm": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shelly1pm"
            }
          }
        ]
      ]
    },
    "shelly2": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shellyswitch"
            }
          }
        ]
      ]
    },
    "shelly4pro": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shelly4pro"
            }
          }
        ]
      ]
    },
    "shellyrgbw2": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shellyrgbw2"
            }
          }
        ]
      ]
    },
    "shellybulb": {
	    "type": "mdns-sd",
	    "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shellybulb"
            }
          }
        ]
      ]
    },
    "shellyem": {
      "type": "mdns-sd",
      "mdns-sd": {
        "name": "http",
        "protocol": "tcp"
      },
      "id": "{{txt.id}}",
      "conditions": [
        [
          {
            "field": "host",
            "match": {
              "type": "regex",
              "value": "^shellyem"
            }
          }
        ]
      ]
    }
  },
	"drivers": [
		{
			"id": "shelly1",
      "discovery": "shelly1",
			"name": {
				"en": "Shelly 1",
				"nl": "Shelly 1"
			},
			"images": {
				"large": "drivers/shelly1/assets/images/large.jpg",
				"small": "drivers/shelly1/assets/images/small.jpg"
			},
			"class": "socket",
			"capabilities": [
				"onoff"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly 1 settings",
						"nl": "Shelly 1 instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shelly1pm",
      "discovery": "shelly1pm",
			"name": {
				"en": "Shelly 1PM",
				"nl": "Shelly 1PM"
			},
			"images": {
				"large": "drivers/shelly1pm/assets/images/large.jpg",
				"small": "drivers/shelly1pm/assets/images/small.jpg"
			},
			"class": "socket",
			"capabilities": [
				"onoff",
				"measure_power",
        "meter_power_wmin",
        "measure_temperature"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly 1PM settings",
						"nl": "Shelly 1PM instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shelly2",
      "discovery": "shelly2",
			"name": {
				"en": "Shelly 2 Relay",
				"nl": "Shelly 2 Relay"
			},
			"images": {
				"large": "drivers/shelly2/assets/images/large.jpg",
				"small": "drivers/shelly2/assets/images/small.jpg"
			},
			"class": "socket",
			"capabilities": [
				"onoff.relay0",
				"onoff.relay1",
				"measure_power"
			],
			"capabilitiesOptions": {
				"onoff.relay0": {
					"title": {
						"en": "Relay 2.1",
						"nl": "Relay 2.1"
					}
				},
				"onoff.relay1": {
					"title": {
						"en": "Relay 2.2",
						"nl": "Relay 2.2"
					}
				}
			},
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly 2 Relay settings",
						"nl": "Shelly 2 Relay instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shelly2-rollershutter",
      "discovery": "shelly2",
			"name": {
				"en": "Shelly 2(.5) Roller Shutter",
				"nl": "Shelly 2(.5) Roller Shutter"
			},
			"images": {
				"large": "drivers/shelly2-rollershutter/assets/images/large.jpg",
				"small": "drivers/shelly2-rollershutter/assets/images/small.jpg"
			},
			"class": "windowcoverings",
			"capabilities": [
				"windowcoverings_state",
				"windowcoverings_set",
				"measure_power"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly 2 Roller Shutter settings",
						"nl": "Shelly 2 Roller Shutter instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shelly25",
      "discovery": "shelly2",
			"name": {
				"en": "Shelly 2.5 Relay",
				"nl": "Shelly 2.5 Relay"
			},
			"images": {
				"large": "drivers/shelly25/assets/images/large.jpg",
				"small": "drivers/shelly25/assets/images/small.jpg"
			},
			"class": "socket",
			"capabilities": [
				"onoff",
				"measure_power",
        "meter_power_wmin",
        "measure_temperature"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly 2.5 Relay settings",
						"nl": "Shelly 2.5 Relay instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shelly-plug",
      "discovery": "shelly-plug",
			"name": {
				"en": "Shelly Plug",
				"nl": "Shelly Plug"
			},
			"images": {
				"large": "drivers/shelly-plug/assets/images/large.jpg",
				"small": "drivers/shelly-plug/assets/images/small.jpg"
			},
			"class": "socket",
			"capabilities": [
				"onoff",
				"measure_power",
        "meter_power_wmin"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly Plug settings",
						"nl": "Shelly Plug instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shelly-plug-s",
      "discovery": "shelly-plug-s",
			"name": {
				"en": "Shelly Plug S",
				"nl": "Shelly Plug S"
			},
			"images": {
				"large": "drivers/shelly-plug-s/assets/images/large.jpg",
				"small": "drivers/shelly-plug-s/assets/images/small.jpg"
			},
			"class": "socket",
			"capabilities": [
				"onoff",
				"measure_power",
        "meter_power_wmin",
        "measure_temperature"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly Plug S settings",
						"nl": "Shelly Plug S instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shelly4pro",
      "discovery": "shelly4pro",
			"name": {
				"en": "Shelly 4 Pro",
				"nl": "Shelly 4 Pro"
			},
			"images": {
				"large": "drivers/shelly4pro/assets/images/large.jpg",
				"small": "drivers/shelly4pro/assets/images/small.jpg"
			},
			"class": "socket",
			"capabilities": [
				"onoff.relay0",
				"onoff.relay1",
				"onoff.relay2",
				"onoff.relay3",
				"measure_power"
			],
			"capabilitiesOptions": {
				"onoff.relay0": {
					"title": {
						"en": "Relay 4.1",
						"nl": "Relay 4.1"
					}
				},
				"onoff.relay1": {
					"title": {
						"en": "Relay 4.2",
						"nl": "Relay 4.2"
					}
				},
				"onoff.relay2": {
					"title": {
						"en": "Relay 4.3",
						"nl": "Relay 4.3"
					}
				},
				"onoff.relay3": {
					"title": {
						"en": "Relay 4.4",
						"nl": "Relay 4.4"
					}
				}
			},
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly 4 Pro settings",
						"nl": "Shelly 4 Pro instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shellyrgbw2color",
      "discovery": "shellyrgbw2",
			"name": {
				"en": "Shelly RGBW2 Color Mode",
				"nl": "Shelly RGBW2 Color Mode"
			},
			"images": {
				"large": "drivers/shellyrgbw2color/assets/images/large.jpg",
				"small": "drivers/shellyrgbw2color/assets/images/small.jpg"
			},
			"class": "light",
			"capabilities": [
				"onoff",
				"dim",
				"light_temperature",
				"light_hue",
				"light_saturation",
				"measure_power"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly RGBW2 settings",
						"nl": "Shelly RGBW2 instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shellybulb",
      "discovery": "shellybulb",
			"name": {
				"en": "Shelly Bulb",
				"nl": "Shelly Bulb"
			},
			"images": {
				"large": "drivers/shellybulb/assets/images/large.jpg",
				"small": "drivers/shellybulb/assets/images/small.jpg"
			},
			"class": "light",
			"capabilities": [
				"onoff",
				"dim",
				"light_temperature",
				"light_hue",
				"light_saturation"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly Bulb settings",
						"nl": "Shelly Bulb instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shellyrgbw2white",
      "discovery": "shellyrgbw2",
			"name": {
				"en": "Shelly RGBW2 4x White Mode",
				"nl": "Shelly RGBW2 4x White Mode"
			},
			"images": {
				"large": "drivers/shellyrgbw2white/assets/images/large.jpg",
				"small": "drivers/shellyrgbw2white/assets/images/small.jpg"
			},
			"class": "light",
			"capabilities": [
				"onoff",
				"dim",
				"measure_power"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly RGBW2 settings",
						"nl": "Shelly RGBW2 instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
		{
			"id": "shellyrgbw2cwww",
			"name": {
				"en": "Shelly RGBW2 2x CW/WW Mode",
				"nl": "Shelly RGBW2 2x CW/WW Mode"
			},
			"images": {
				"large": "drivers/shellyrgbw2cwww/assets/images/large.jpg",
				"small": "drivers/shellyrgbw2cwww/assets/images/small.jpg"
			},
			"class": "light",
			"capabilities": [
				"onoff",
				"dim",
				"light_temperature",
				"measure_power"
			],
			"pair": [
				{
					"id": "start"
				}
			],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly RGBW2 settings",
						"nl": "Shelly RGBW2 instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		},
    {
			"id": "shellyem",
      "discovery": "shellyem",
			"name": {
				"en": "Shelly EM",
				"nl": "Shelly EM"
			},
			"images": {
				"large": "drivers/shellyem/assets/images/large.jpg",
				"small": "drivers/shellyem/assets/images/small.jpg"
			},
			"class": "socket",
			"capabilities": [
				"onoff",
				"measure_power",
        "reactive_power",
        "measure_voltage",
        "meter_power_consumed",
        "meter_power_returned"
			],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "login_credentials"
          }
        },
        {
          "id": "login_credentials",
          "template": "login_credentials",
          "options": {
            "logo": "../../../assets/shelly-logo.png"
          }
        },
        {
          "id": "add_device"
        }
      ],
			"settings": [
				{
					"type": "group",
					"label": {
						"en": "Shelly EM settings",
						"nl": "Shelly EM instellingen"
					},
					"children": [
						{
							"id": "address",
							"type": "text",
							"value": "0.0.0.0",
							"label": {
								"en": "IP Address",
								"nl": "IP adres"
							}
						},
						{
							"id": "username",
							"type": "text",
							"value": "",
							"label": {
								"en": "Username",
								"nl": "Gebruikersnaam"
							}
						},
						{
							"id": "password",
							"type": "password",
							"value": "",
							"label": {
								"en": "Password",
								"nl": "Wachtwoord"
							}
						},
						{
							"id": "polling",
							"type": "number",
							"value": 5,
							"attr": {
								"min": 5,
								"max": 3600
							},
							"label": {
								"en": "Polling Frequency",
								"nl": "Polling frequentie"
							}
						}
					]
				}
			]
		}
	],
	"flow": {
		"triggers": [
			{
				"id": "relay0OnTrigger",
				"title": {
					"en": "Relay 1 is turned on",
					"nl": "Relay 1 is aangezet"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay1OnTrigger",
				"title": {
					"en": "Relay 2 is turned on",
					"nl": "Relay 2 is aangezet"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay2OnTrigger",
				"title": {
					"en": "Relay 3 is turned on",
					"nl": "Relay 3 is aangezet"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "relay3OnTrigger",
				"title": {
					"en": "Relay 4 is turned on",
					"nl": "Relay 4 is aangezet"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "relay0OffTrigger",
				"title": {
					"en": "Relay 1 is turned off",
					"nl": "Relay 1 is uitgezet"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay1OffTrigger",
				"title": {
					"en": "Relay 2 is turned off",
					"nl": "Relay 2 is uitgezet"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 2",
							"nl": "Selecteer Shelly 2"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay2OffTrigger",
				"title": {
					"en": "Relay 3 is turned off",
					"nl": "Relay 3 is uitgezet"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "relay3OffTrigger",
				"title": {
					"en": "Relay 4 is turned off",
					"nl": "Relay 4 is uitgezet"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			}
		],
		"conditions": [
			{
				"id": "relay0Powered",
				"title": {
					"en": "Relay 1 !{{is|is not}} turned on",
					"nl": "Relay 1 !{{is|is niet}} aan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay1Powered",
				"title": {
					"en": "Relay 2 !{{is|is not}} turned on",
					"nl": "Relay 2 !{{is|is niet}} aan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay2Powered",
				"title": {
					"en": "Relay 3 !{{is|is not}} turned on",
					"nl": "Relay 3 !{{is|is niet}} aan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "relay3Powered",
				"title": {
					"en": "Relay 4 !{{is|is not}} turned on",
					"nl": "Relay 4 !{{is|is niet}} aan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			}
		],
		"actions": [
			{
				"id": "flipbackSwitch",
				"title": {
					"en": "Switch state temporary",
					"nl": "Wijzig status tijdelijk"
				},
				"hint": {
					"en": "Use this card to turn Shelly ON or OFF but only for the set time in seconds, after the timer it will switch back.",
					"nl": "Gebruik deze actie om Shelly AAN of UIT te schakelen voor de ingestelde duur in seconden, na de timer zal hij terugschakelen."
				},
				"args": [
					{
						"name": "switch",
						"type": "dropdown",
						"placeholder": {
							"en": "Temporary switch",
							"nl": "Tijdelijk schakelen"
						},
						"values": [
							{
								"id": "0",
								"label": {
									"en": "Switch OFF",
									"nl": "Uitschakelen"
								}
							},
							{
								"id": "1",
								"label": {
									"en": "Switch ON",
									"nl": "Inschakelen"
								}
							}
						]
					},
					{
						"name": "timer",
						"type": "number",
						"placeholder": {
							"en": "Duration in seconds",
							"nl": "Duur in seconden"
						},
						"min": 1,
						"step": 1
					},
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly",
							"nl": "Selecteer Shelly"
						},
						"filter": "driver_id=shelly1|shelly-plug|shelly-plug-s"
					}
				]
			},
			{
				"id": "relay0OnAction",
				"title": {
					"en": "Turn on relay 1",
					"nl": "Zet relay 1 aan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 2",
							"nl": "Selecteer Shelly 2"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay1OnAction",
				"title": {
					"en": "Turn on relay 2",
					"nl": "Zet relay 2 aan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 2",
							"nl": "Selecteer Shelly 2"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay2OnAction",
				"title": {
					"en": "Turn on relay 3",
					"nl": "Zet relay 3 aan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 4 Pro",
							"nl": "Selecteer Shelly 4 Pro"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "relay3OnAction",
				"title": {
					"en": "Turn on relay 43",
					"nl": "Zet relay 4 aan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 4 Pro",
							"nl": "Selecteer Shelly 4 Pro"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "relay0OffAction",
				"title": {
					"en": "Turn off relay 1",
					"nl": "Zet relay 1 uit"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 2",
							"nl": "Selecteer Shelly 2"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay1OffAction",
				"title": {
					"en": "Turn off relay 2",
					"nl": "Zet relay 2 uit"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 2",
							"nl": "Selecteer Shelly 2"
						},
						"filter": "driver_id=shelly2|shelly4pro"
					}
				]
			},
			{
				"id": "relay2OffAction",
				"title": {
					"en": "Turn off relay 3",
					"nl": "Zet relay 3 uit"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 4 Pro",
							"nl": "Selecteer Shelly 4 Pro"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "relay3OffAction",
				"title": {
					"en": "Turn off relay 4",
					"nl": "Zet relay 4 uit"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 4 Pro",
							"nl": "Selecteer Shelly 4 Pro"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "flipbackSwitch2",
				"title": {
					"en": "Switch state temporary",
					"nl": "Wijzig status tijdelijk"
				},
				"hint": {
					"en": "Use this card to turn the Shelly 2 ON or OFF but only for the set time in seconds, after the timer it will switch back.",
					"nl": "Gebruik deze actie om de Shelly 2 AAN of UIT te schakelen voor de ingestelde duur in seconden, na de timer zal hij terugschakelen."
				},
				"args": [
					{
						"name": "relay",
						"type": "dropdown",
						"placeholder": {
							"en": "Relay",
							"nl": "Relay"
						},
						"values": [
							{
								"id": "0",
								"label": {
									"en": "Relay 1",
									"nl": "Relay 1"
								}
							},
							{
								"id": "1",
								"label": {
									"en": "Relay 2",
									"nl": "Relay 2"
								}
							}
						]
					},
					{
						"name": "switch",
						"type": "dropdown",
						"placeholder": {
							"en": "Temporary switch",
							"nl": "Tijdelijk schakelen"
						},
						"values": [
							{
								"id": "0",
								"label": {
									"en": "Switch OFF",
									"nl": "Uitschakelen"
								}
							},
							{
								"id": "1",
								"label": {
									"en": "Switch ON",
									"nl": "Inschakelen"
								}
							}
						]
					},
					{
						"name": "timer",
						"type": "number",
						"placeholder": {
							"en": "Duration in seconds",
							"nl": "Duur in seconden"
						},
						"min": 1,
						"max": 120,
						"step": 1
					},
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 2",
							"nl": "Selecteer Shelly 2"
						},
						"filter": "driver_id=shelly2"
					}
				]
			},
			{
				"id": "flipbackSwitch4",
				"title": {
					"en": "Switch state temporary",
					"nl": "Wijzig status tijdelijk"
				},
				"hint": {
					"en": "Use this card to turn the Shelly 4 Pro ON or OFF but only for the set time in seconds, after the timer it will switch back.",
					"nl": "Gebruik deze actie om de Shelly 4 Pro AAN of UIT te schakelen voor de ingestelde duur in seconden, na de timer zal hij terugschakelen."
				},
				"args": [
					{
						"name": "relay",
						"type": "dropdown",
						"placeholder": {
							"en": "Relay",
							"nl": "Relay"
						},
						"values": [
							{
								"id": "0",
								"label": {
									"en": "Relay 1",
									"nl": "Relay 1"
								}
							},
							{
								"id": "1",
								"label": {
									"en": "Relay 2",
									"nl": "Relay 2"
								}
							},
							{
								"id": "2",
								"label": {
									"en": "Relay 3",
									"nl": "Relay 3"
								}
							},
							{
								"id": "3",
								"label": {
									"en": "Relay 4",
									"nl": "Relay 4"
								}
							}
						]
					},
					{
						"name": "switch",
						"type": "dropdown",
						"placeholder": {
							"en": "Temporary switch",
							"nl": "Tijdelijk schakelen"
						},
						"values": [
							{
								"id": "0",
								"label": {
									"en": "Switch OFF",
									"nl": "Uitschakelen"
								}
							},
							{
								"id": "1",
								"label": {
									"en": "Switch ON",
									"nl": "Inschakelen"
								}
							}
						]
					},
					{
						"name": "timer",
						"type": "number",
						"placeholder": {
							"en": "Duration in seconds",
							"nl": "Duur in seconden"
						},
						"min": 1,
						"step": 1
					},
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 4 Pro",
							"nl": "Selecteer Shelly 4 Pro"
						},
						"filter": "driver_id=shelly4pro"
					}
				]
			},
			{
				"id": "moveRollerShutter",
				"title": {
					"en": "Change roller shutter",
					"nl": "Wijzig roller shutter"
				},
				"hint": {
					"en": "Use this card to open, close or stop your roller shutter for a given time.",
					"nl": "Gebruik deze actie om de roller shutter te openen, sluiten of stoppen met de opgegeven duur."
				},
				"args": [
					{
						"name": "direction",
						"type": "dropdown",
						"placeholder": {
							"en": "Direction",
							"nl": "Richting"
						},
						"values": [
							{
								"id": "open",
								"label": {
									"en": "Up",
									"nl": "Omhoog"
								}
							},
							{
								"id": "stop",
								"label": {
									"en": "Stop",
									"nl": "Stop"
								}
							},
							{
								"id": "close",
								"label": {
									"en": "Down",
									"nl": "Omlaag"
								}
							}
						]
					},
					{
						"name": "duration",
						"type": "number",
						"min": 1,
						"max": 3600,
						"step": 1,
						"placeholder": {
							"en": "Duration in seconds",
							"nl": "Duur in seconden"
						}
					},
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly 2",
							"nl": "Selecteer Shelly 2"
						},
						"filter": "driver_id=shelly2-rollershutter"
					}
				]
			},
			{
				"id": "flipbackSwitchRGBW2Color",
				"title": {
					"en": "Switch state temporary",
					"nl": "Wijzig status tijdelijk"
				},
				"hint": {
					"en": "Use this card to turn the Shelly RGBW2 Color ON or OFF but only for the set time in seconds, after the timer it will switch back.",
					"nl": "Gebruik deze actie om de Shelly RGBW2 Color AAN of UIT te schakelen voor de ingestelde duur in seconden, na de timer zal hij terugschakelen."
				},
				"args": [
					{
						"name": "switch",
						"type": "dropdown",
						"placeholder": {
							"en": "Temporary switch",
							"nl": "Tijdelijk schakelen"
						},
						"values": [
							{
								"id": "0",
								"label": {
									"en": "Switch OFF",
									"nl": "Uitschakelen"
								}
							},
							{
								"id": "1",
								"label": {
									"en": "Switch ON",
									"nl": "Inschakelen"
								}
							}
						]
					},
					{
						"name": "timer",
						"type": "number",
						"placeholder": {
							"en": "Duration in seconds",
							"nl": "Duur in seconden"
						},
						"min": 1,
						"step": 1
					},
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly RGBW2 Color",
							"nl": "Selecteer Shelly RGBW2 COlor"
						},
						"filter": "driver_id=shellyrgbw2color"
					}
				]
			},
			{
				"id": "effectRGBW2Color",
				"title": {
					"en": "Set Effect",
					"nl": "Effect instellen"
				},
				"args": [
					{
						"name": "effect",
						"type": "dropdown",
						"placeholder": {
							"en": "Effect",
							"nl": "Effect"
						},
						"values": [
							{
								"id": "1",
								"label": {
									"en": "Meteor shower",
									"nl": "Meteoriet regen"
								}
							},
							{
								"id": "2",
								"label": {
									"en": "Gradual change",
									"nl": "Geleidelijk veranderen"
								}
							},
							{
								"id": "3",
								"label": {
									"en": "Breath",
									"nl": "Ademen"
								}
							},
							{
								"id": "4",
								"label": {
									"en": "Flash",
									"nl": "Flitsen"
								}
							},
							{
								"id": "5",
								"label": {
									"en": "Gradual On/Off",
									"nl": "Geleidelijk Aan/Uit"
								}
							},
							{
								"id": "6",
								"label": {
									"en": "Red/Green change",
									"nl": "Rood/Groen verandering"
								}
							}
						]
					},
					{
						"name": "device",
						"type": "device",
						"placeholder": {
							"en": "Select Shelly RGBW2 Color",
							"nl": "Selecteer Shelly RGBW2 COlor"
						},
						"filter": "driver_id=shellyrgbw2color"
					}
				]
			}
		]
	}
}
